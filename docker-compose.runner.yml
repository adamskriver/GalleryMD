services:
  runner:
    image: myoung34/github-runner:latest
    container_name: gallerymd-runner
    restart: unless-stopped
    environment:
      REPO_URL: https://github.com/${REPO}
      RUNNER_NAME: ${RUNNER_NAME:-gallerymd-runner}
      RUNNER_TOKEN: ${RUNNER_TOKEN}
      RUNNER_WORKDIR: ${RUNNER_WORKDIR:-/tmp/runner}
      LABELS: ${LABELS:-self-hosted,docker}
      RUNNER_SCOPE: ${RUNNER_SCOPE:-repo}
    env_file:
      - .env
    volumes:
      - runner_work:/tmp/runner
      - /var/run/docker.sock:/var/run/docker.sock  # Needed if your workflows use Docker

volumes:
  runner_work:
